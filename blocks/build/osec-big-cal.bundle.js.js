"use strict";(globalThis.webpackChunkcalendar_block=globalThis.webpackChunkcalendar_block||[]).push([[2242],{8562:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(1609),s=n(9179),o=n(4353),l=n.n(o),r=n(6986),i=n.n(r),c=n(8569),u=n.n(c),d=n(1455),w=n.n(d),f=n(3832),g=n(790);const D=e=>{l().extend(i()),l().extend(u()),"en"!==e&&l().locale(e)},v=e=>(e.view&&"oneday"===e.view&&(e.view="day"),e.view&&(e.defaultView=e.view,delete e.view),e.fixedDate&&(e.fixedDate=l().unix(parseInt(e.fixedDate)).valueOf()),e),x=(e=null,t)=>{const n="[object Date]"===Object.prototype.toString.call(e)?l()(e):l()(),a={start:null,end:null};switch(t){case"month":a.start=n.startOf("month").startOf("week").unix(),a.end=n.endOf("month").endOf("week").unix();break;case"week":a.start=n.startOf("week").unix(),a.end=n.endOf("week").unix();break;default:a.start=n.unix()}return a},h=(e,t)=>{switch(console.log({range:e,view:t},"range (UNTRANSFORMED)"),t){case"week":return{start:e[0],end:e[6]};case"agenda":return{start:e.start,end:null};case"day":return{start:e[0],end:null};default:return e}},k=(e=null)=>e?l().unix(parseInt(e)).toDate():l()().toDate();function p(e){const{fixedDate:t,defaultView:n}=v(e),o=e.locale.name;D(o);const r=(0,s.vH)(l()),[i,c]=(0,a.useState)([{title:"Daily",start:new Date("2025-04-29T15:16:00.000Z"),end:new Date("2025-04-29T16:16:00.000Z"),allDay:!1,resource:"any"}]),u=x(t,n),{getNow:d}=(0,a.useMemo)((()=>({defaultDate:k(t),getNow:()=>l()().toDate(),localizer:r})));return(0,a.useEffect)((()=>{!async function(e){const t=(0,f.addQueryArgs)("/osec/v1/days",e),n=await w()({path:t});if(n.events){const e=n.events.map((e=>({...e,start:l().unix(parseInt(e.start)).toDate(),end:l().unix(parseInt(e.end)).toDate()})));console.log(e,"@loadEvents"),c(e)}}(u)}),[u,c]),(0,g.jsx)(s.Vv,{localizer:r,events:i,getNow:d,endAccessor:"end",style:{height:"80vh"},defaultView:n,onRangeChange:(e,t)=>{const n=h(e,t);console.log({range:n},"newRange (TRANSFORMED)")},onNavigate:e=>{console.log({newDate:e},"newDate")},onView:e=>{console.log({newView:e},"newView")}})}}}]);